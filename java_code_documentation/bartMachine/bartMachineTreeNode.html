<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (25) on Mon Jan 12 19:25:19 EST 2026 -->
<title>bartMachineTreeNode</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2026-01-12">
<meta name="description" content="declaration: package: bartMachine, class: bartMachineTreeNode">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../resource-files/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="../resource-files/stylesheet.css">
<script type="text/javascript" src="../script-files/script.js"></script>
<script type="text/javascript" src="../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../search.html">Search</a></li>
<li><a href="../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">bartMachine</a></li>
<li><a href="bartMachineTreeNode.html" class="current-selection">bartMachineTreeNode</a></li>
</ol>
<div class="nav-list-search"><input type="text" id="search-input" disabled placeholder="Search documentation (type /)" aria-label="Search in documentation" autocomplete="off" spellcheck="false"><input type="reset" id="reset-search" disabled value="Reset"></div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;<input type="text" class="filter-input" disabled placeholder="Filter contents (type .)" aria-label="Filter table of contents" autocomplete="off" spellcheck="false"><input type="reset" class="reset-filter" disabled tabindex="-1" value="Reset"></div>
<ol class="toc-list" tabindex="-1">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#field-summary" tabindex="0">Field Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#field-detail" tabindex="0">Field Details</a>
<ol class="toc-list">
<li><a href="#DEBUG_NODES" tabindex="0">DEBUG_NODES</a></li>
<li><a href="#BAD_FLAG_double" tabindex="0">BAD_FLAG_double</a></li>
<li><a href="#BAD_FLAG_int" tabindex="0">BAD_FLAG_int</a></li>
<li><a href="#parent" tabindex="0">parent</a></li>
<li><a href="#left" tabindex="0">left</a></li>
<li><a href="#right" tabindex="0">right</a></li>
<li><a href="#depth" tabindex="0">depth</a></li>
<li><a href="#isLeaf" tabindex="0">isLeaf</a></li>
<li><a href="#splitAttributeM" tabindex="0">splitAttributeM</a></li>
<li><a href="#splitValue" tabindex="0">splitValue</a></li>
<li><a href="#sendMissingDataRight" tabindex="0">sendMissingDataRight</a></li>
<li><a href="#y_pred" tabindex="0">y_pred</a></li>
<li><a href="#y_avg" tabindex="0">y_avg</a></li>
<li><a href="#posterior_var" tabindex="0">posterior_var</a></li>
<li><a href="#posterior_mean" tabindex="0">posterior_mean</a></li>
<li><a href="#n_eta" tabindex="0">n_eta</a></li>
<li><a href="#yhats" tabindex="0">yhats</a></li>
<li><a href="#indicies" tabindex="0">indicies</a></li>
<li><a href="#responses" tabindex="0">responses</a></li>
<li><a href="#padj" tabindex="0">padj</a></li>
</ol>
</li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E()" tabindex="0">bartMachineTreeNode()</a></li>
<li><a href="#%3Cinit%3E(bartMachine.bartMachineTreeNode,bartMachine.bartMachine_b_hyperparams)" tabindex="0">bartMachineTreeNode(bartMachineTreeNode, bartMachine_b_hyperparams)</a></li>
<li><a href="#%3Cinit%3E(bartMachine.bartMachineTreeNode)" tabindex="0">bartMachineTreeNode(bartMachineTreeNode)</a></li>
<li><a href="#%3Cinit%3E(bartMachine.bartMachine_b_hyperparams)" tabindex="0">bartMachineTreeNode(bartMachine_b_hyperparams)</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#clone()" tabindex="0">clone()</a></li>
<li><a href="#avgResponse()" tabindex="0">avgResponse()</a></li>
<li><a href="#getTerminalNodesWithDataAboveOrEqualToN(int)" tabindex="0">getTerminalNodesWithDataAboveOrEqualToN(int)</a></li>
<li><a href="#getTerminalNodes()" tabindex="0">getTerminalNodes()</a></li>
<li><a href="#getPrunableAndChangeableNodes()" tabindex="0">getPrunableAndChangeableNodes()</a></li>
<li><a href="#pruneTreeAt(bartMachine.bartMachineTreeNode)" tabindex="0">pruneTreeAt(bartMachineTreeNode)</a></li>
<li><a href="#deepestNode()" tabindex="0">deepestNode()</a></li>
<li><a href="#Evaluate(double%5B%5D)" tabindex="0">Evaluate(double[])</a></li>
<li><a href="#EvaluateNode(double%5B%5D)" tabindex="0">EvaluateNode(double[])</a></li>
<li><a href="#evaluateBatch(double%5B%5D%5B%5D,int%5B%5D,int,int,double%5B%5D)" tabindex="0">evaluateBatch(double[][], int[], int, int, double[])</a></li>
<li><a href="#evaluateBatch(double%5B%5D%5B%5D,int%5B%5D,double%5B%5D)" tabindex="0">evaluateBatch(double[][], int[], double[])</a></li>
<li><a href="#flushNodeData()" tabindex="0">flushNodeData()</a></li>
<li><a href="#propagateDataByChangedRule()" tabindex="0">propagateDataByChangedRule()</a></li>
<li><a href="#updateWithNewResponsesRecursively(double%5B%5D)" tabindex="0">updateWithNewResponsesRecursively(double[])</a></li>
<li><a href="#numLeaves()" tabindex="0">numLeaves()</a></li>
<li><a href="#numNodesAndLeaves()" tabindex="0">numNodesAndLeaves()</a></li>
<li><a href="#numPruneNodesAvailable()" tabindex="0">numPruneNodesAvailable()</a></li>
<li><a href="#prediction_untransformed()" tabindex="0">prediction_untransformed()</a></li>
<li><a href="#avg_response_untransformed()" tabindex="0">avg_response_untransformed()</a></li>
<li><a href="#sumResponsesQuantitySqd()" tabindex="0">sumResponsesQuantitySqd()</a></li>
<li><a href="#sumResponses()" tabindex="0">sumResponses()</a></li>
<li><a href="#predictorsThatCouldBeUsedToSplitAtNode()" tabindex="0">predictorsThatCouldBeUsedToSplitAtNode()</a></li>
<li><a href="#nAdj()" tabindex="0">nAdj()</a></li>
<li><a href="#possibleSplitValuesGivenAttribute()" tabindex="0">possibleSplitValuesGivenAttribute()</a></li>
<li><a href="#pickRandomSplitValue()" tabindex="0">pickRandomSplitValue()</a></li>
<li><a href="#isStump()" tabindex="0">isStump()</a></li>
<li><a href="#stringID()" tabindex="0">stringID()</a></li>
<li><a href="#setStumpData(java.util.ArrayList,double%5B%5D,int)" tabindex="0">setStumpData(ArrayList, double[], int)</a></li>
<li><a href="#updateYHatsWithPrediction()" tabindex="0">updateYHatsWithPrediction()</a></li>
<li><a href="#attributeSplitCounts()" tabindex="0">attributeSplitCounts()</a></li>
<li><a href="#attributeSplitCountsInner(int%5B%5D)" tabindex="0">attributeSplitCountsInner(int[])</a></li>
<li><a href="#findInteractions(java.util.HashSet)" tabindex="0">findInteractions(HashSet)</a></li>
<li><a href="#clearRulesAndSplitCache()" tabindex="0">clearRulesAndSplitCache()</a></li>
<li><a href="#pickRandomDirectionForMissingData()" tabindex="0">pickRandomDirectionForMissingData()</a></li>
<li><a href="#stringLocation(boolean)" tabindex="0">stringLocation(boolean)</a></li>
<li><a href="#stringLocation()" tabindex="0">stringLocation()</a></li>
<li><a href="#printNodeDebugInfo(java.lang.String)" tabindex="0">printNodeDebugInfo(String)</a></li>
<li><a href="#getLeft()" tabindex="0">getLeft()</a></li>
<li><a href="#getRight()" tabindex="0">getRight()</a></li>
<li><a href="#getGeneration()" tabindex="0">getGeneration()</a></li>
<li><a href="#setGeneration(int)" tabindex="0">setGeneration(int)</a></li>
<li><a href="#isLeaf()" tabindex="0">isLeaf()</a></li>
<li><a href="#setLeaf(boolean)" tabindex="0">setLeaf(boolean)</a></li>
<li><a href="#setLeft(bartMachine.bartMachineTreeNode)" tabindex="0">setLeft(bartMachineTreeNode)</a></li>
<li><a href="#setRight(bartMachine.bartMachineTreeNode)" tabindex="0">setRight(bartMachineTreeNode)</a></li>
<li><a href="#getSplitAttributeM()" tabindex="0">getSplitAttributeM()</a></li>
<li><a href="#setSplitAttributeM(int)" tabindex="0">setSplitAttributeM(int)</a></li>
<li><a href="#getSplitValue()" tabindex="0">getSplitValue()</a></li>
<li><a href="#setSplitValue(double)" tabindex="0">setSplitValue(double)</a></li>
</ol>
</li>
</ol>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span><img src="../resource-files/left.svg" alt="Hide sidebar"></button><button class="show-sidebar"><img src="../resource-files/right.svg" alt="Show sidebar"><span>&nbsp;Show sidebar</span></button></nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class bartMachineTreeNode" class="title">Class bartMachineTreeNode</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance">bartMachine.bartMachineTreeNode</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Cloneable.html" title="class or interface in java.lang" class="external-link">Cloneable</a></code></dd>
</dl>
<hr>
<div class="horizontal-scroll">
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">bartMachineTreeNode</span>
<span class="extends-implements">extends <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a>
implements <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Cloneable.html" title="class or interface in java.lang" class="external-link">Cloneable</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/io/Serializable.html" title="class or interface in java.io" class="external-link">Serializable</a></span></div>
<div class="block">The class that stores all the information in one node of the BART trees</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../serialized-form.html#bartMachine.bartMachineTreeNode">Serialized Form</a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>protected static final double</code></div>
<div class="col-second even-row-color"><code><a href="#BAD_FLAG_double" class="member-name-link">BAD_FLAG_double</a></code></div>
<div class="col-last even-row-color">
<div class="block">a flag that represents an invalid double value</div>
</div>
<div class="col-first odd-row-color"><code>protected static final int</code></div>
<div class="col-second odd-row-color"><code><a href="#BAD_FLAG_int" class="member-name-link">BAD_FLAG_int</a></code></div>
<div class="col-last odd-row-color">
<div class="block">a flag that represents an invalid integer value</div>
</div>
<div class="col-first even-row-color"><code>static final boolean</code></div>
<div class="col-second even-row-color"><code><a href="#DEBUG_NODES" class="member-name-link">DEBUG_NODES</a></code></div>
<div class="col-last even-row-color">
<div class="block">Setting this to true will print out debug information at the node level during Gibbs sampling</div>
</div>
<div class="col-first odd-row-color"><code>int</code></div>
<div class="col-second odd-row-color"><code><a href="#depth" class="member-name-link">depth</a></code></div>
<div class="col-last odd-row-color">
<div class="block">the generation of this node from the top node (root note has generation = 0 by definition)</div>
</div>
<div class="col-first even-row-color"><code>protected int[]</code></div>
<div class="col-second even-row-color"><code><a href="#indicies" class="member-name-link">indicies</a></code></div>
<div class="col-last even-row-color">
<div class="block">the indices in {0, 1, ..., n-1} of the data records in this node</div>
</div>
<div class="col-first odd-row-color"><code>boolean</code></div>
<div class="col-second odd-row-color"><code><a href="#isLeaf" class="member-name-link">isLeaf</a></code></div>
<div class="col-last odd-row-color">
<div class="block">is this node a terminal node?</div>
</div>
<div class="col-first even-row-color"><code><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></div>
<div class="col-second even-row-color"><code><a href="#left" class="member-name-link">left</a></code></div>
<div class="col-last even-row-color">
<div class="block">the left daughter node</div>
</div>
<div class="col-first odd-row-color"><code>int</code></div>
<div class="col-second odd-row-color"><code><a href="#n_eta" class="member-name-link">n_eta</a></code></div>
<div class="col-last odd-row-color">
<div class="block">the number of data points in this node</div>
</div>
<div class="col-first even-row-color"><code>protected int</code></div>
<div class="col-second even-row-color"><code><a href="#padj" class="member-name-link">padj</a></code></div>
<div class="col-last even-row-color">
<div class="block">this number of possible split variables at this node</div>
</div>
<div class="col-first odd-row-color"><code><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></div>
<div class="col-second odd-row-color"><code><a href="#parent" class="member-name-link">parent</a></code></div>
<div class="col-last odd-row-color">
<div class="block">the parent node of this node</div>
</div>
<div class="col-first even-row-color"><code>double</code></div>
<div class="col-second even-row-color"><code><a href="#posterior_mean" class="member-name-link">posterior_mean</a></code></div>
<div class="col-last even-row-color">
<div class="block">the posterior mean in the conditional distribution if applicable (for research purposes only)</div>
</div>
<div class="col-first odd-row-color"><code>double</code></div>
<div class="col-second odd-row-color"><code><a href="#posterior_var" class="member-name-link">posterior_var</a></code></div>
<div class="col-last odd-row-color">
<div class="block">the posterior variance in the conditional distribution if applicable (for research purposes only)</div>
</div>
<div class="col-first even-row-color"><code>protected double[]</code></div>
<div class="col-second even-row-color"><code><a href="#responses" class="member-name-link">responses</a></code></div>
<div class="col-last even-row-color">
<div class="block">the y's in this node</div>
</div>
<div class="col-first odd-row-color"><code><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></div>
<div class="col-second odd-row-color"><code><a href="#right" class="member-name-link">right</a></code></div>
<div class="col-last odd-row-color">
<div class="block">the right daughter node</div>
</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#sendMissingDataRight" class="member-name-link">sendMissingDataRight</a></code></div>
<div class="col-last even-row-color">
<div class="block">send missing data to the right?</div>
</div>
<div class="col-first odd-row-color"><code>int</code></div>
<div class="col-second odd-row-color"><code><a href="#splitAttributeM" class="member-name-link">splitAttributeM</a></code></div>
<div class="col-last odd-row-color">
<div class="block">the attribute this node makes a decision on</div>
</div>
<div class="col-first even-row-color"><code>double</code></div>
<div class="col-second even-row-color"><code><a href="#splitValue" class="member-name-link">splitValue</a></code></div>
<div class="col-last even-row-color">
<div class="block">the value this node makes a decision on</div>
</div>
<div class="col-first odd-row-color"><code>double</code></div>
<div class="col-second odd-row-color"><code><a href="#y_avg" class="member-name-link">y_avg</a></code></div>
<div class="col-last odd-row-color">
<div class="block">the average of the node responses if applicable (for research purposes only)</div>
</div>
<div class="col-first even-row-color"><code>double</code></div>
<div class="col-second even-row-color"><code><a href="#y_pred" class="member-name-link">y_pred</a></code></div>
<div class="col-last even-row-color">
<div class="block">if this is a leaf node, then the result of the prediction for regression, otherwise null</div>
</div>
<div class="col-first odd-row-color"><code>double[]</code></div>
<div class="col-second odd-row-color"><code><a href="#yhats" class="member-name-link">yhats</a></code></div>
<div class="col-last odd-row-color">
<div class="block">these are the yhats in the correct order</div>
</div>
</div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E()" class="member-name-link">bartMachineTreeNode</a>()</code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(bartMachine.bartMachine_b_hyperparams)" class="member-name-link">bartMachineTreeNode</a><wbr>(<a href="bartMachine_b_hyperparams.html" title="class in bartMachine">bartMachine_b_hyperparams</a>&nbsp;bart)</code></div>
<div class="col-last odd-row-color">
<div class="block">Creates a new node</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(bartMachine.bartMachineTreeNode)" class="member-name-link">bartMachineTreeNode</a><wbr>(<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;parent)</code></div>
<div class="col-last even-row-color">
<div class="block">Creates a new node</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(bartMachine.bartMachineTreeNode,bartMachine.bartMachine_b_hyperparams)" class="member-name-link">bartMachineTreeNode</a><wbr>(<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;parent,
 <a href="bartMachine_b_hyperparams.html" title="class in bartMachine">bartMachine_b_hyperparams</a>&nbsp;bart)</code></div>
<div class="col-last odd-row-color">
<div class="block">Creates a new node</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab1" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab1', 3)" class="table-tab">Static Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int[]</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#attributeSplitCounts()" class="member-name-link">attributeSplitCounts</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">A wrapper to find the attributes used</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#attributeSplitCountsInner(int%5B%5D)" class="member-name-link">attributeSplitCountsInner</a><wbr>(int[]&nbsp;counts)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#avg_response_untransformed()" class="member-name-link">avg_response_untransformed</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find the average repsonse in this node and then transform it back to the original response scale</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#avgResponse()" class="member-name-link">avgResponse</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">The sample average response value at this node</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clearRulesAndSplitCache()" class="member-name-link">clearRulesAndSplitCache</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">When <code>mem_cache_for_speed</code> is set in the BART model, running this function will reset the caches for this node's valid predictors and valid split values</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#clone()" class="member-name-link">clone</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a cloned copy of the tree beginning at this node by recursing cloning its children.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#deepestNode()" class="member-name-link">deepestNode</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find the terminal node at the largest depth from this point in the tree and down</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#Evaluate(double%5B%5D)" class="member-name-link">Evaluate</a><wbr>(double[]&nbsp;record)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Evaluate a record recursively accounting for split rules and the presence of missing data</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#evaluateBatch(double%5B%5D%5B%5D,int%5B%5D,double%5B%5D)" class="member-name-link">evaluateBatch</a><wbr>(double[][]&nbsp;records,
 int[]&nbsp;rowIndices,
 double[]&nbsp;results)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Legacy support or convenient entry point for evaluateBatch.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#evaluateBatch(double%5B%5D%5B%5D,int%5B%5D,int,int,double%5B%5D)" class="member-name-link">evaluateBatch</a><wbr>(double[][]&nbsp;records,
 int[]&nbsp;rowIndices,
 int&nbsp;start,
 int&nbsp;end,
 double[]&nbsp;results)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Evaluate a batch of records and add their predictions to the results array.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#EvaluateNode(double%5B%5D)" class="member-name-link">EvaluateNode</a><wbr>(double[]&nbsp;record)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#findInteractions(java.util.HashSet)" class="member-name-link">findInteractions</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/HashSet.html" title="class or interface in java.util" class="external-link">HashSet</a>&lt;<a href="../OpenSourceExtensions/UnorderedPair.html" title="class in OpenSourceExtensions">UnorderedPair</a>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&gt;&nbsp;set_of_interaction_pairs)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">A wrapper to find all interactions recursively by checking all splits underneath this node</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#flushNodeData()" class="member-name-link">flushNodeData</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Remove all the data in this node and its children recursively to save memory</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getGeneration()" class="member-name-link">getGeneration</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getLeft()" class="member-name-link">getLeft</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a><wbr>&lt;<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getPrunableAndChangeableNodes()" class="member-name-link">getPrunableAndChangeableNodes</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find a list of prunable and changeable nodes (ie singly internal nodes) 
from this point in the tree and below</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getRight()" class="member-name-link">getRight</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSplitAttributeM()" class="member-name-link">getSplitAttributeM</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getSplitValue()" class="member-name-link">getSplitValue</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a><wbr>&lt;<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTerminalNodes()" class="member-name-link">getTerminalNodes</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Return all terminal nodes under this node</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a><wbr>&lt;<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTerminalNodesWithDataAboveOrEqualToN(int)" class="member-name-link">getTerminalNodesWithDataAboveOrEqualToN</a><wbr>(int&nbsp;n_rule)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Search the tree below this current node for terminal nodes that have more than <code>n_rule</code>
data records</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isLeaf()" class="member-name-link">isLeaf</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>boolean</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#isStump()" class="member-name-link">isStump</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Is this node a stump? That is, does it have no parents and no children?</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#nAdj()" class="member-name-link">nAdj</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Gets the total number of valid split points that can be used for rules at this juncture
for the selected split rule predictor (it will be different for each predictor)</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#numLeaves()" class="member-name-link">numLeaves</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">How many terminal nodes are below this node?</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#numNodesAndLeaves()" class="member-name-link">numNodesAndLeaves</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find the total number of nodes (internal and terminal) recursively below this node</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>int</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#numPruneNodesAvailable()" class="member-name-link">numPruneNodesAvailable</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find the number of singly internal nodes (available for pruning) recursively
from this point in the tree down</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static boolean</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#pickRandomDirectionForMissingData()" class="member-name-link">pickRandomDirectionForMissingData</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">Picks a random direction for missing data to flow down the tree from this node.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pickRandomSplitValue()" class="member-name-link">pickRandomSplitValue</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Of the valid split values to split at for this split rule at this node, pick one at random</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected <a href="../OpenSourceExtensions/TDoubleHashSetAndArray.html" title="class in OpenSourceExtensions">TDoubleHashSetAndArray</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#possibleSplitValuesGivenAttribute()" class="member-name-link">possibleSplitValuesGivenAttribute</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">A wrapper to find a list of split values that are valid for splitting at this node.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#prediction_untransformed()" class="member-name-link">prediction_untransformed</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Get the prediction for this node transformed back to the original response scale</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>protected it.unimi.dsi.fastutil.ints.IntArrayList</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#predictorsThatCouldBeUsedToSplitAtNode()" class="member-name-link">predictorsThatCouldBeUsedToSplitAtNode</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">A wrapper to find a list of predictors that are valid for splitting at this node.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#printNodeDebugInfo(java.lang.String)" class="member-name-link">printNodeDebugInfo</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;title)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Prints debug information about this node, its parent and its immediate children</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#propagateDataByChangedRule()" class="member-name-link">propagateDataByChangedRule</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Propagates the records to the appropriate daughter nodes recursively after a change in split rule.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code>static void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4"><code><a href="#pruneTreeAt(bartMachine.bartMachineTreeNode)" class="member-name-link">pruneTreeAt</a><wbr>(<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;node)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab1 method-summary-table-tab4">
<div class="block">We prune the tree at this node.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setGeneration(int)" class="member-name-link">setGeneration</a><wbr>(int&nbsp;generation)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLeaf(boolean)" class="member-name-link">setLeaf</a><wbr>(boolean&nbsp;isLeaf)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setLeft(bartMachine.bartMachineTreeNode)" class="member-name-link">setLeft</a><wbr>(<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;left)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setRight(bartMachine.bartMachineTreeNode)" class="member-name-link">setRight</a><wbr>(<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;right)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSplitAttributeM(int)" class="member-name-link">setSplitAttributeM</a><wbr>(int&nbsp;splitAttributeM)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setSplitValue(double)" class="member-name-link">setSplitValue</a><wbr>(double&nbsp;splitValue)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setStumpData(java.util.ArrayList,double%5B%5D,int)" class="member-name-link">setStumpData</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;double[]&gt;&nbsp;X_y,
 double[]&nbsp;y_trans,
 int&nbsp;p)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">When a new stump gets created, this function sets its data.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stringID()" class="member-name-link">stringID</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find the string ID of this node</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stringLocation()" class="member-name-link">stringLocation</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">&nbsp;</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#stringLocation(boolean)" class="member-name-link">stringLocation</a><wbr>(boolean&nbsp;show_parent)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">In debugging, print a string that codes this node's location in the entire tree</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sumResponses()" class="member-name-link">sumResponses</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Simply the sum of the repsonses in this node</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>double</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sumResponsesQuantitySqd()" class="member-name-link">sumResponsesQuantitySqd</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Find the square of the sum of responses and cache it</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateWithNewResponsesRecursively(double%5B%5D)" class="member-name-link">updateWithNewResponsesRecursively</a><wbr>(double[]&nbsp;new_responses)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Update this node and its children with a set of new responses recursively</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateYHatsWithPrediction()" class="member-name-link">updateYHatsWithPrediction</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Given new yhat predictions, update them for this node</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#method-summary" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="DEBUG_NODES">
<h3>DEBUG_NODES</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static final</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">DEBUG_NODES</span></div>
<div class="block">Setting this to true will print out debug information at the node level during Gibbs sampling</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../constant-values.html#bartMachine.bartMachineTreeNode.DEBUG_NODES">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="BAD_FLAG_double">
<h3>BAD_FLAG_double</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">BAD_FLAG_double</span></div>
<div class="block">a flag that represents an invalid double value</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../constant-values.html#bartMachine.bartMachineTreeNode.BAD_FLAG_double">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="BAD_FLAG_int">
<h3>BAD_FLAG_int</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected static final</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">BAD_FLAG_int</span></div>
<div class="block">a flag that represents an invalid integer value</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../constant-values.html#bartMachine.bartMachineTreeNode.BAD_FLAG_int">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="parent">
<h3>parent</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></span>&nbsp;<span class="element-name">parent</span></div>
<div class="block">the parent node of this node</div>
</div>
</section>
</li>
<li>
<section class="detail" id="left">
<h3>left</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></span>&nbsp;<span class="element-name">left</span></div>
<div class="block">the left daughter node</div>
</div>
</section>
</li>
<li>
<section class="detail" id="right">
<h3>right</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></span>&nbsp;<span class="element-name">right</span></div>
<div class="block">the right daughter node</div>
</div>
</section>
</li>
<li>
<section class="detail" id="depth">
<h3>depth</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">depth</span></div>
<div class="block">the generation of this node from the top node (root note has generation = 0 by definition)</div>
</div>
</section>
</li>
<li>
<section class="detail" id="isLeaf">
<h3>isLeaf</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLeaf</span></div>
<div class="block">is this node a terminal node?</div>
</div>
</section>
</li>
<li>
<section class="detail" id="splitAttributeM">
<h3>splitAttributeM</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">splitAttributeM</span></div>
<div class="block">the attribute this node makes a decision on</div>
</div>
</section>
</li>
<li>
<section class="detail" id="splitValue">
<h3>splitValue</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">splitValue</span></div>
<div class="block">the value this node makes a decision on</div>
</div>
</section>
</li>
<li>
<section class="detail" id="sendMissingDataRight">
<h3>sendMissingDataRight</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">sendMissingDataRight</span></div>
<div class="block">send missing data to the right?</div>
</div>
</section>
</li>
<li>
<section class="detail" id="y_pred">
<h3>y_pred</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">y_pred</span></div>
<div class="block">if this is a leaf node, then the result of the prediction for regression, otherwise null</div>
</div>
</section>
</li>
<li>
<section class="detail" id="y_avg">
<h3>y_avg</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">y_avg</span></div>
<div class="block">the average of the node responses if applicable (for research purposes only)</div>
</div>
</section>
</li>
<li>
<section class="detail" id="posterior_var">
<h3>posterior_var</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">posterior_var</span></div>
<div class="block">the posterior variance in the conditional distribution if applicable (for research purposes only)</div>
</div>
</section>
</li>
<li>
<section class="detail" id="posterior_mean">
<h3>posterior_mean</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">posterior_mean</span></div>
<div class="block">the posterior mean in the conditional distribution if applicable (for research purposes only)</div>
</div>
</section>
</li>
<li>
<section class="detail" id="n_eta">
<h3>n_eta</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public transient</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">n_eta</span></div>
<div class="block">the number of data points in this node</div>
</div>
</section>
</li>
<li>
<section class="detail" id="yhats">
<h3>yhats</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public transient</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name">yhats</span></div>
<div class="block">these are the yhats in the correct order</div>
</div>
</section>
</li>
<li>
<section class="detail" id="indicies">
<h3>indicies</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name">indicies</span></div>
<div class="block">the indices in {0, 1, ..., n-1} of the data records in this node</div>
</div>
</section>
</li>
<li>
<section class="detail" id="responses">
<h3>responses</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected transient</span>&nbsp;<span class="return-type">double[]</span>&nbsp;<span class="element-name">responses</span></div>
<div class="block">the y's in this node</div>
</div>
</section>
</li>
<li>
<section class="detail" id="padj">
<h3>padj</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected transient</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">padj</span></div>
<div class="block">this number of possible split variables at this node</div>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;()">
<h3>bartMachineTreeNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">bartMachineTreeNode</span>()</div>
</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(bartMachine.bartMachineTreeNode,bartMachine.bartMachine_b_hyperparams)">
<h3>bartMachineTreeNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">bartMachineTreeNode</span><wbr><span class="parameters">(<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;parent,
 <a href="bartMachine_b_hyperparams.html" title="class in bartMachine">bartMachine_b_hyperparams</a>&nbsp;bart)</span></div>
<div class="block">Creates a new node</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>parent</code> - The parent of this node</dd>
<dd><code>bart</code> - The BART model this node belongs to</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(bartMachine.bartMachineTreeNode)">
<h3>bartMachineTreeNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">bartMachineTreeNode</span><wbr><span class="parameters">(<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;parent)</span></div>
<div class="block">Creates a new node</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>parent</code> - The parent of this node</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(bartMachine.bartMachine_b_hyperparams)">
<h3>bartMachineTreeNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">bartMachineTreeNode</span><wbr><span class="parameters">(<a href="bartMachine_b_hyperparams.html" title="class in bartMachine">bartMachine_b_hyperparams</a>&nbsp;bart)</span></div>
<div class="block">Creates a new node</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>bart</code> - The BART model this node belongs to</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="clone()">
<h3>clone</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></span>&nbsp;<span class="element-name">clone</span>()</div>
<div class="block">Creates a cloned copy of the tree beginning at this node by recursing cloning its children.
The clone is shallow to save memory.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></code></dd>
<dt>Returns:</dt>
<dd>A cloned copy of this tree</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="avgResponse()">
<h3>avgResponse</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">avgResponse</span>()</div>
<div class="block">The sample average response value at this node</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The sample average value</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getTerminalNodesWithDataAboveOrEqualToN(int)">
<h3>getTerminalNodesWithDataAboveOrEqualToN</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;</span>&nbsp;<span class="element-name">getTerminalNodesWithDataAboveOrEqualToN</span><wbr><span class="parameters">(int&nbsp;n_rule)</span></div>
<div class="block">Search the tree below this current node for terminal nodes that have more than <code>n_rule</code>
data records</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>n_rule</code> - The number of data records in in terminal nodes of interest we wish to select</dd>
<dt>Returns:</dt>
<dd>A list of these nodes</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getTerminalNodes()">
<h3>getTerminalNodes</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;</span>&nbsp;<span class="element-name">getTerminalNodes</span>()</div>
<div class="block">Return all terminal nodes under this node</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>A list of the terminal nodes</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getPrunableAndChangeableNodes()">
<h3>getPrunableAndChangeableNodes</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;</span>&nbsp;<span class="element-name">getPrunableAndChangeableNodes</span>()</div>
<div class="block">Find a list of prunable and changeable nodes (ie singly internal nodes) 
from this point in the tree and below</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The list of these nodes</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="pruneTreeAt(bartMachine.bartMachineTreeNode)">
<h3>pruneTreeAt</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">pruneTreeAt</span><wbr><span class="parameters">(<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;node)</span></div>
<div class="block">We prune the tree at this node. We cut off its children, mark it as a leaf / terminal node,
and erase its split rule</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>node</code> - The node at which to trim the tree at</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="deepestNode()">
<h3>deepestNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">deepestNode</span>()</div>
<div class="block">Find the terminal node at the largest depth from this point in the tree and down</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The depth of the deepest terminal node</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="Evaluate(double[])">
<h3>Evaluate</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">Evaluate</span><wbr><span class="parameters">(double[]&nbsp;record)</span></div>
<div class="block">Evaluate a record recursively accounting for split rules and the presence of missing data</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>record</code> - The record which to evaluate in this tree</dd>
<dt>Returns:</dt>
<dd>The returned prediction from the terminal node that this tree structure maps the record to</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="EvaluateNode(double[])">
<h3>EvaluateNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></span>&nbsp;<span class="element-name">EvaluateNode</span><wbr><span class="parameters">(double[]&nbsp;record)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="evaluateBatch(double[][],int[],int,int,double[])">
<h3>evaluateBatch</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">evaluateBatch</span><wbr><span class="parameters">(double[][]&nbsp;records,
 int[]&nbsp;rowIndices,
 int&nbsp;start,
 int&nbsp;end,
 double[]&nbsp;results)</span></div>
<div class="block">Evaluate a batch of records and add their predictions to the results array.
This version uses in-place partitioning to avoid object allocations.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>records</code> - the training/test data</dd>
<dd><code>rowIndices</code> - the array of row indices (will be partitioned in-place)</dd>
<dd><code>start</code> - start index in rowIndices</dd>
<dd><code>end</code> - end index in rowIndices (exclusive)</dd>
<dd><code>results</code> - the array to accumulate predictions</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="evaluateBatch(double[][],int[],double[])">
<h3>evaluateBatch</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">evaluateBatch</span><wbr><span class="parameters">(double[][]&nbsp;records,
 int[]&nbsp;rowIndices,
 double[]&nbsp;results)</span></div>
<div class="block">Legacy support or convenient entry point for evaluateBatch.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="flushNodeData()">
<h3>flushNodeData</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">flushNodeData</span>()</div>
<div class="block">Remove all the data in this node and its children recursively to save memory</div>
</div>
</section>
</li>
<li>
<section class="detail" id="propagateDataByChangedRule()">
<h3>propagateDataByChangedRule</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">propagateDataByChangedRule</span>()</div>
<div class="block">Propagates the records to the appropriate daughter nodes recursively after a change in split rule.</div>
</div>
</section>
</li>
<li>
<section class="detail" id="updateWithNewResponsesRecursively(double[])">
<h3>updateWithNewResponsesRecursively</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateWithNewResponsesRecursively</span><wbr><span class="parameters">(double[]&nbsp;new_responses)</span></div>
<div class="block">Update this node and its children with a set of new responses recursively</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>new_responses</code> - The new responses</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="numLeaves()">
<h3>numLeaves</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">numLeaves</span>()</div>
<div class="block">How many terminal nodes are below this node?</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The number of terminal nodes</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="numNodesAndLeaves()">
<h3>numNodesAndLeaves</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">numNodesAndLeaves</span>()</div>
<div class="block">Find the total number of nodes (internal and terminal) recursively below this node</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The number of nodes</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="numPruneNodesAvailable()">
<h3>numPruneNodesAvailable</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">numPruneNodesAvailable</span>()</div>
<div class="block">Find the number of singly internal nodes (available for pruning) recursively
from this point in the tree down</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The number of nodes available for pruning or changing</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="prediction_untransformed()">
<h3>prediction_untransformed</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">prediction_untransformed</span>()</div>
<div class="block">Get the prediction for this node transformed back to the original response scale</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The untransformed prediction</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="avg_response_untransformed()">
<h3>avg_response_untransformed</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">avg_response_untransformed</span>()</div>
<div class="block">Find the average repsonse in this node and then transform it back to the original response scale</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The untransformed average</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="sumResponsesQuantitySqd()">
<h3>sumResponsesQuantitySqd</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">sumResponsesQuantitySqd</span>()</div>
<div class="block">Find the square of the sum of responses and cache it</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The squared quantity of the sum of responses</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="sumResponses()">
<h3>sumResponses</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">sumResponses</span>()</div>
<div class="block">Simply the sum of the repsonses in this node</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The sum</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="predictorsThatCouldBeUsedToSplitAtNode()">
<h3>predictorsThatCouldBeUsedToSplitAtNode</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">it.unimi.dsi.fastutil.ints.IntArrayList</span>&nbsp;<span class="element-name">predictorsThatCouldBeUsedToSplitAtNode</span>()</div>
<div class="block">A wrapper to find a list of predictors that are valid for splitting at this node. 
If <code>mem_cache_for_speed</code> is turned on in the construction of the BART model, 
this list gets cached.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The list of predictors indexed by the columns in the design matrix</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="nAdj()">
<h3>nAdj</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">nAdj</span>()</div>
<div class="block">Gets the total number of valid split points that can be used for rules at this juncture
for the selected split rule predictor (it will be different for each predictor)</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The number of valid split points</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="possibleSplitValuesGivenAttribute()">
<h3>possibleSplitValuesGivenAttribute</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../OpenSourceExtensions/TDoubleHashSetAndArray.html" title="class in OpenSourceExtensions">TDoubleHashSetAndArray</a></span>&nbsp;<span class="element-name">possibleSplitValuesGivenAttribute</span>()</div>
<div class="block">A wrapper to find a list of split values that are valid for splitting at this node. 
If <code>mem_cache_for_speed</code> is turned on in the construction of the BART model, 
this list gets cached.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The list of split values</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="pickRandomSplitValue()">
<h3>pickRandomSplitValue</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">pickRandomSplitValue</span>()</div>
<div class="block">Of the valid split values to split at for this split rule at this node, pick one at random</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The randomly selected split value</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="isStump()">
<h3>isStump</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isStump</span>()</div>
<div class="block">Is this node a stump? That is, does it have no parents and no children?</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>True if it's a stump</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="stringID()">
<h3>stringID</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">stringID</span>()</div>
<div class="block">Find the string ID of this node</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>The unique ID of this node</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="setStumpData(java.util.ArrayList,double[],int)">
<h3>setStumpData</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setStumpData</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/ArrayList.html" title="class or interface in java.util" class="external-link">ArrayList</a>&lt;double[]&gt;&nbsp;X_y,
 double[]&nbsp;y_trans,
 int&nbsp;p)</span></div>
<div class="block">When a new stump gets created, this function sets its data. This allows
the stump to grow a tree within a BART model</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>X_y</code> - the training data that will be filtered down the tree structure</dd>
<dd><code>y_trans</code> - the transformed responses that correspond to the <code>X_y</code> data records</dd>
<dd><code>p</code> - the number of attributes in the training data</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="updateYHatsWithPrediction()">
<h3>updateYHatsWithPrediction</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">updateYHatsWithPrediction</span>()</div>
<div class="block">Given new yhat predictions, update them for this node</div>
</div>
</section>
</li>
<li>
<section class="detail" id="attributeSplitCounts()">
<h3>attributeSplitCounts</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int[]</span>&nbsp;<span class="element-name">attributeSplitCounts</span>()</div>
<div class="block">A wrapper to find the attributes used</div>
<dl class="notes">
<dt>Returns:</dt>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="attributeSplitCountsInner(int[])">
<h3>attributeSplitCountsInner</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">attributeSplitCountsInner</span><wbr><span class="parameters">(int[]&nbsp;counts)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="findInteractions(java.util.HashSet)">
<h3>findInteractions</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">findInteractions</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/HashSet.html" title="class or interface in java.util" class="external-link">HashSet</a>&lt;<a href="../OpenSourceExtensions/UnorderedPair.html" title="class in OpenSourceExtensions">UnorderedPair</a>&lt;<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/Integer.html" title="class or interface in java.lang" class="external-link">Integer</a>&gt;&gt;&nbsp;set_of_interaction_pairs)</span></div>
<div class="block">A wrapper to find all interactions recursively by checking all splits underneath this node</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>set_of_interaction_pairs</code> - A running list of interaction pairs</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="clearRulesAndSplitCache()">
<h3>clearRulesAndSplitCache</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">clearRulesAndSplitCache</span>()</div>
<div class="block">When <code>mem_cache_for_speed</code> is set in the BART model, running this function will reset the caches for this node's valid predictors and valid split values</div>
</div>
</section>
</li>
<li>
<section class="detail" id="pickRandomDirectionForMissingData()">
<h3>pickRandomDirectionForMissingData</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public static</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">pickRandomDirectionForMissingData</span>()</div>
<div class="block">Picks a random direction for missing data to flow down the tree from this node. As of
now, this is a 50-50 coin flip left:right.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>True / false is returned</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="stringLocation(boolean)">
<h3>stringLocation</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">stringLocation</span><wbr><span class="parameters">(boolean&nbsp;show_parent)</span></div>
<div class="block">In debugging, print a string that codes this node's location in the entire tree</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>show_parent</code> - Show a character if this node is a stump</dd>
<dt>Returns:</dt>
<dd>The coded string</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="stringLocation()">
<h3>stringLocation</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">stringLocation</span>()</div>
</div>
</section>
</li>
<li>
<section class="detail" id="printNodeDebugInfo(java.lang.String)">
<h3>printNodeDebugInfo</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">printNodeDebugInfo</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>&nbsp;title)</span></div>
<div class="block">Prints debug information about this node, its parent and its immediate children</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>title</code> - A string to print within this message</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getLeft()">
<h3>getLeft</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></span>&nbsp;<span class="element-name">getLeft</span>()</div>
</div>
</section>
</li>
<li>
<section class="detail" id="getRight()">
<h3>getRight</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></span>&nbsp;<span class="element-name">getRight</span>()</div>
</div>
</section>
</li>
<li>
<section class="detail" id="getGeneration()">
<h3>getGeneration</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getGeneration</span>()</div>
</div>
</section>
</li>
<li>
<section class="detail" id="setGeneration(int)">
<h3>setGeneration</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setGeneration</span><wbr><span class="parameters">(int&nbsp;generation)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="isLeaf()">
<h3>isLeaf</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="element-name">isLeaf</span>()</div>
</div>
</section>
</li>
<li>
<section class="detail" id="setLeaf(boolean)">
<h3>setLeaf</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setLeaf</span><wbr><span class="parameters">(boolean&nbsp;isLeaf)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="setLeft(bartMachine.bartMachineTreeNode)">
<h3>setLeft</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setLeft</span><wbr><span class="parameters">(<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;left)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="setRight(bartMachine.bartMachineTreeNode)">
<h3>setRight</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setRight</span><wbr><span class="parameters">(<a href="bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;right)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="getSplitAttributeM()">
<h3>getSplitAttributeM</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">int</span>&nbsp;<span class="element-name">getSplitAttributeM</span>()</div>
</div>
</section>
</li>
<li>
<section class="detail" id="setSplitAttributeM(int)">
<h3>setSplitAttributeM</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setSplitAttributeM</span><wbr><span class="parameters">(int&nbsp;splitAttributeM)</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="getSplitValue()">
<h3>getSplitValue</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">double</span>&nbsp;<span class="element-name">getSplitValue</span>()</div>
</div>
</section>
</li>
<li>
<section class="detail" id="setSplitValue(double)">
<h3>setSplitValue</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">setSplitValue</span><wbr><span class="parameters">(double&nbsp;splitValue)</span></div>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</body>
</html>
