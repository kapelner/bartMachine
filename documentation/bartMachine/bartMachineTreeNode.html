<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_09) on Mon Dec 02 14:44:17 EST 2013 -->
<title>bartMachineTreeNode</title>
<meta name="date" content="2013-12-02">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="bartMachineTreeNode";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/bartMachineTreeNode.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../bartMachine/bartMachineRegressionMultThread.html" title="class in bartMachine"><span class="strong">Prev Class</span></a></li>
<li><a href="../bartMachine/Classifier.html" title="class in bartMachine"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?bartMachine/bartMachineTreeNode.html" target="_top">Frames</a></li>
<li><a href="bartMachineTreeNode.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">bartMachine</div>
<h2 title="Class bartMachineTreeNode" class="title">Class bartMachineTreeNode</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>bartMachine.bartMachineTreeNode</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Cloneable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">bartMachineTreeNode</span>
extends java.lang.Object
implements java.lang.Cloneable</pre>
<div class="block">The class that stores all the information in one node of the BART trees</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Adam Kapelner and Justin Bleich</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int[]</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#attribute_split_counts">attribute_split_counts</a></strong></code>
<div class="block">a shared pointer to an object that tabulates the counts of attributes being used in split points in this tree</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#BAD_FLAG_double">BAD_FLAG_double</a></strong></code>
<div class="block">a flag that represents an invalid double value</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#BAD_FLAG_int">BAD_FLAG_int</a></strong></code>
<div class="block">a flag that represents an invalid integer value</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../bartMachine/bartMachine_b_hyperparams.html" title="class in bartMachine">bartMachine_b_hyperparams</a></code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#bart">bart</a></strong></code>
<div class="block">a link back to the overall bart model</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#DEBUG_NODES">DEBUG_NODES</a></strong></code>
<div class="block">Setting this to true will print out debug information at the node level during Gibbs sampling</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#depth">depth</a></strong></code>
<div class="block">the generation of this node from the top node (root note has generation = 0 by definition)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int[]</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#indicies">indicies</a></strong></code>
<div class="block">the indices in {0, 1, ..., n-1} of the data records in this node</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#isLeaf">isLeaf</a></strong></code>
<div class="block">is this node a terminal node?</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#left">left</a></strong></code>
<div class="block">the left daughter node</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#n_eta">n_eta</a></strong></code>
<div class="block">the number of data points in this node</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.Integer</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#padj">padj</a></strong></code>
<div class="block">this number of possible split variables at this node</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#parent">parent</a></strong></code>
<div class="block">the parent node of this node</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private gnu.trove.list.array.TIntArrayList</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#possible_rule_variables">possible_rule_variables</a></strong></code>
<div class="block">this caches the possible split variables populated only if the <code>mem_cache_for_speed</code> feature is set to on</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.util.HashMap&lt;java.lang.Integer,<a href="../OpenSourceExtensions/TDoubleHashSetAndArray.html" title="class in OpenSourceExtensions">TDoubleHashSetAndArray</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#possible_split_vals_by_attr">possible_split_vals_by_attr</a></strong></code>
<div class="block">this caches the possible split values BY variable populated only if the <code>mem_cache_for_speed</code> feature is set to on</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double[]</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#responses">responses</a></strong></code>
<div class="block">the y's in this node</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#right">right</a></strong></code>
<div class="block">the right daughter node</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#sendMissingDataRight">sendMissingDataRight</a></strong></code>
<div class="block">send missing data to the right?</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#splitAttributeM">splitAttributeM</a></strong></code>
<div class="block">the attribute this node makes a decision on</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#splitValue">splitValue</a></strong></code>
<div class="block">the value this node makes a decision on</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#sum_responses_qty">sum_responses_qty</a></strong></code>
<div class="block">the sum of the responses, y</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#sum_responses_qty_sqd">sum_responses_qty_sqd</a></strong></code>
<div class="block">the square of the sum of the responses, y</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#y_pred">y_pred</a></strong></code>
<div class="block">if this is a leaf node, then the result of the prediction for regression, otherwise null</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#yhats">yhats</a></strong></code>
<div class="block">these are the yhats in the correct order</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#bartMachineTreeNode()">bartMachineTreeNode</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#bartMachineTreeNode(bartMachine.bartMachine_b_hyperparams)">bartMachineTreeNode</a></strong>(<a href="../bartMachine/bartMachine_b_hyperparams.html" title="class in bartMachine">bartMachine_b_hyperparams</a>&nbsp;bart)</code>
<div class="block">Creates a new node</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#bartMachineTreeNode(bartMachine.bartMachineTreeNode)">bartMachineTreeNode</a></strong>(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;parent)</code>
<div class="block">Creates a new node</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#bartMachineTreeNode(bartMachine.bartMachineTreeNode, bartMachine.bartMachine_b_hyperparams)">bartMachineTreeNode</a></strong>(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;parent,
                   <a href="../bartMachine/bartMachine_b_hyperparams.html" title="class in bartMachine">bartMachine_b_hyperparams</a>&nbsp;bart)</code>
<div class="block">Creates a new node</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#avg_response_untransformed()">avg_response_untransformed</a></strong>()</code>
<div class="block">Find the average repsonse in this node and then transform it back to the original response scale</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#avgResponse()">avgResponse</a></strong>()</code>
<div class="block">The sample average response value at this node</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#clearRulesAndSplitCache()">clearRulesAndSplitCache</a></strong>()</code>
<div class="block">When <code>mem_cache_for_speed</code> is set in the BART model, running this function will reset the caches for this node's valid predictors and valid split values</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#clone()">clone</a></strong>()</code>
<div class="block">Creates a cloned copy of the tree beginning at this node by recursing cloning its children.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#decrement_variable_count(int)">decrement_variable_count</a></strong>(int&nbsp;j)</code>
<div class="block">When counting the attributes used in this tree's split rules, decrement the following attribute</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#deepestNode()">deepestNode</a></strong>()</code>
<div class="block">Find the terminal node at the largest depth from this point in the tree and down</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#Evaluate(double[])">Evaluate</a></strong>(double[]&nbsp;record)</code>
<div class="block">Evaluate a record recursively accounting for split rules and the presence of missing data</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#findInteractions(java.util.HashSet)">findInteractions</a></strong>(java.util.HashSet&lt;<a href="../OpenSourceExtensions/UnorderedPair.html" title="class in OpenSourceExtensions">UnorderedPair</a>&lt;java.lang.Integer&gt;&gt;&nbsp;set_of_interaction_pairs)</code>
<div class="block">A wrapper to find all interactions recursively by checking all splits underneath this node</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#findPrunableAndChangeableNodes(bartMachine.bartMachineTreeNode, java.util.ArrayList)">findPrunableAndChangeableNodes</a></strong>(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;node,
                              java.util.ArrayList&lt;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;&nbsp;prunable_nodes)</code>
<div class="block">Find a list of prunable and changeable nodes (ie singly internal nodes) 
 from a node and below using recursion</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#findSplitAttributesUsedUnderneath(int, java.util.HashSet)">findSplitAttributesUsedUnderneath</a></strong>(int&nbsp;interacted_attribute,
                                 java.util.HashSet&lt;<a href="../OpenSourceExtensions/UnorderedPair.html" title="class in OpenSourceExtensions">UnorderedPair</a>&lt;java.lang.Integer&gt;&gt;&nbsp;set_of_interaction_pairs)</code>
<div class="block">Finds interactions recursively for one node's attribute by checking all splits underneath this node</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#findTerminalNodesDataAboveOrEqualToN(bartMachine.bartMachineTreeNode, java.util.ArrayList, int)">findTerminalNodesDataAboveOrEqualToN</a></strong>(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;node,
                                    java.util.ArrayList&lt;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;&nbsp;terminal_nodes,
                                    int&nbsp;n_rule)</code>
<div class="block">Search the tree recursively below a node for terminal nodes that have more than <code>n_rule</code>
 data records</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#flushNodeData()">flushNodeData</a></strong>()</code>
<div class="block">Remove all the data in this node and its children recursively to save memory</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#getGeneration()">getGeneration</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#getLeft()">getLeft</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#getPrunableAndChangeableNodes()">getPrunableAndChangeableNodes</a></strong>()</code>
<div class="block">Find a list of prunable and changeable nodes (ie singly internal nodes) 
 from this point in the tree and below</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a></code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#getRight()">getRight</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#getSplitAttributeM()">getSplitAttributeM</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#getSplitValue()">getSplitValue</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#getTerminalNodes()">getTerminalNodes</a></strong>()</code>
<div class="block">Return all terminal nodes under this node</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.ArrayList&lt;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#getTerminalNodesWithDataAboveOrEqualToN(int)">getTerminalNodesWithDataAboveOrEqualToN</a></strong>(int&nbsp;n_rule)</code>
<div class="block">Search the tree below this current node for terminal nodes that have more than <code>n_rule</code>
 data records</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#increment_variable_count(int)">increment_variable_count</a></strong>(int&nbsp;j)</code>
<div class="block">When counting the attributes used in this tree's split rules, increment the following attribute</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#isLeaf()">isLeaf</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#isStump()">isStump</a></strong>()</code>
<div class="block">Is this node a stump? That is, does it have no parents and no children?</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#nAdj()">nAdj</a></strong>()</code>
<div class="block">Gets the total number of valid split points that can be used for rules at this juncture
 for the selected split rule predictor (it will be different for each predictor)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#numLeaves()">numLeaves</a></strong>()</code>
<div class="block">How many terminal nodes are below this node?</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#numNodesAndLeaves()">numNodesAndLeaves</a></strong>()</code>
<div class="block">Find the total number of nodes (internal and terminal) recursively below this node</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#numPruneNodesAvailable()">numPruneNodesAvailable</a></strong>()</code>
<div class="block">Find the number of singly internal nodes (available for pruning) recursively
 from this point in the tree down</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#pickRandomDirectionForMissingData()">pickRandomDirectionForMissingData</a></strong>()</code>
<div class="block">Picks a random direction for missing data to flow down the tree from this node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#pickRandomSplitValue()">pickRandomSplitValue</a></strong>()</code>
<div class="block">Of the valid split values to split at for this split rule at this node, pick one at random</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../OpenSourceExtensions/TDoubleHashSetAndArray.html" title="class in OpenSourceExtensions">TDoubleHashSetAndArray</a></code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#possibleSplitValuesGivenAttribute()">possibleSplitValuesGivenAttribute</a></strong>()</code>
<div class="block">A wrapper to find a list of split values that are valid for splitting at this node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#prediction_untransformed()">prediction_untransformed</a></strong>()</code>
<div class="block">Get the prediction for this node transformed back to the original response scale</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected gnu.trove.list.array.TIntArrayList</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#predictorsThatCouldBeUsedToSplitAtNode()">predictorsThatCouldBeUsedToSplitAtNode</a></strong>()</code>
<div class="block">A wrapper to find a list of predictors that are valid for splitting at this node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#printNodeDebugInfo(java.lang.String)">printNodeDebugInfo</a></strong>(java.lang.String&nbsp;title)</code>
<div class="block">Prints debug information about this node, its parent and its immediate children</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#propagateDataByChangedRule()">propagateDataByChangedRule</a></strong>()</code>
<div class="block">Propagates the records to the appropriate daughter nodes recursively after a change in split rule.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#pruneTreeAt(bartMachine.bartMachineTreeNode)">pruneTreeAt</a></strong>(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;node)</code>
<div class="block">We prune the tree at this node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#setGeneration(int)">setGeneration</a></strong>(int&nbsp;generation)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#setLeaf(boolean)">setLeaf</a></strong>(boolean&nbsp;isLeaf)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#setLeft(bartMachine.bartMachineTreeNode)">setLeft</a></strong>(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;left)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#setRight(bartMachine.bartMachineTreeNode)">setRight</a></strong>(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;right)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#setSplitAttributeM(int)">setSplitAttributeM</a></strong>(int&nbsp;splitAttributeM)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#setSplitValue(double)">setSplitValue</a></strong>(double&nbsp;splitValue)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#setStumpData(java.util.ArrayList, double[], int)">setStumpData</a></strong>(java.util.ArrayList&lt;double[]&gt;&nbsp;X_y,
            double[]&nbsp;y_trans,
            int&nbsp;p)</code>
<div class="block">When a new stump gets created, this function sets its data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#stringID()">stringID</a></strong>()</code>
<div class="block">Find the string ID of this node</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#stringLocation(boolean)">stringLocation</a></strong>(boolean&nbsp;show_parent)</code>
<div class="block">In debugging, print a string that codes this node's location in the entire tree</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#sumResponses()">sumResponses</a></strong>()</code>
<div class="block">Simply the sum of the repsonses in this node</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#sumResponsesQuantitySqd()">sumResponsesQuantitySqd</a></strong>()</code>
<div class="block">Find the square of the sum of responses and cache it</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../OpenSourceExtensions/TDoubleHashSetAndArray.html" title="class in OpenSourceExtensions">TDoubleHashSetAndArray</a></code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#tabulatePossibleSplitValuesGivenAttribute()">tabulatePossibleSplitValuesGivenAttribute</a></strong>()</code>
<div class="block">Finds a list of split values that are valid for splitting at this node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private gnu.trove.list.array.TIntArrayList</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#tabulatePredictorsThatCouldBeUsedToSplitAtNode()">tabulatePredictorsThatCouldBeUsedToSplitAtNode</a></strong>()</code>
<div class="block">Finds a list of predictors that are valid for splitting at this node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#updateWithNewResponsesRecursively(double[])">updateWithNewResponsesRecursively</a></strong>(double[]&nbsp;new_responses)</code>
<div class="block">Update this node and its children with a set of new responses recursively</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../bartMachine/bartMachineTreeNode.html#updateYHatsWithPrediction()">updateYHatsWithPrediction</a></strong>()</code>
<div class="block">Given new yhat predictions, update them for this node</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="DEBUG_NODES">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEBUG_NODES</h4>
<pre>public static final&nbsp;boolean DEBUG_NODES</pre>
<div class="block">Setting this to true will print out debug information at the node level during Gibbs sampling</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#bartMachine.bartMachineTreeNode.DEBUG_NODES">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="BAD_FLAG_double">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BAD_FLAG_double</h4>
<pre>protected static final&nbsp;double BAD_FLAG_double</pre>
<div class="block">a flag that represents an invalid double value</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#bartMachine.bartMachineTreeNode.BAD_FLAG_double">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="BAD_FLAG_int">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BAD_FLAG_int</h4>
<pre>protected static final&nbsp;int BAD_FLAG_int</pre>
<div class="block">a flag that represents an invalid integer value</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../constant-values.html#bartMachine.bartMachineTreeNode.BAD_FLAG_int">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="bart">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bart</h4>
<pre>private&nbsp;<a href="../bartMachine/bartMachine_b_hyperparams.html" title="class in bartMachine">bartMachine_b_hyperparams</a> bart</pre>
<div class="block">a link back to the overall bart model</div>
</li>
</ul>
<a name="parent">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parent</h4>
<pre>public&nbsp;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a> parent</pre>
<div class="block">the parent node of this node</div>
</li>
</ul>
<a name="left">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>left</h4>
<pre>public&nbsp;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a> left</pre>
<div class="block">the left daughter node</div>
</li>
</ul>
<a name="right">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>right</h4>
<pre>public&nbsp;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a> right</pre>
<div class="block">the right daughter node</div>
</li>
</ul>
<a name="depth">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>depth</h4>
<pre>public&nbsp;int depth</pre>
<div class="block">the generation of this node from the top node (root note has generation = 0 by definition)</div>
</li>
</ul>
<a name="isLeaf">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLeaf</h4>
<pre>public&nbsp;boolean isLeaf</pre>
<div class="block">is this node a terminal node?</div>
</li>
</ul>
<a name="splitAttributeM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitAttributeM</h4>
<pre>public&nbsp;int splitAttributeM</pre>
<div class="block">the attribute this node makes a decision on</div>
</li>
</ul>
<a name="splitValue">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>splitValue</h4>
<pre>public&nbsp;double splitValue</pre>
<div class="block">the value this node makes a decision on</div>
</li>
</ul>
<a name="sendMissingDataRight">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendMissingDataRight</h4>
<pre>public&nbsp;boolean sendMissingDataRight</pre>
<div class="block">send missing data to the right?</div>
</li>
</ul>
<a name="y_pred">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>y_pred</h4>
<pre>public&nbsp;double y_pred</pre>
<div class="block">if this is a leaf node, then the result of the prediction for regression, otherwise null</div>
</li>
</ul>
<a name="n_eta">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>n_eta</h4>
<pre>public transient&nbsp;int n_eta</pre>
<div class="block">the number of data points in this node</div>
</li>
</ul>
<a name="yhats">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>yhats</h4>
<pre>public transient&nbsp;double[] yhats</pre>
<div class="block">these are the yhats in the correct order</div>
</li>
</ul>
<a name="indicies">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>indicies</h4>
<pre>protected transient&nbsp;int[] indicies</pre>
<div class="block">the indices in {0, 1, ..., n-1} of the data records in this node</div>
</li>
</ul>
<a name="responses">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>responses</h4>
<pre>protected transient&nbsp;double[] responses</pre>
<div class="block">the y's in this node</div>
</li>
</ul>
<a name="sum_responses_qty_sqd">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sum_responses_qty_sqd</h4>
<pre>private transient&nbsp;double sum_responses_qty_sqd</pre>
<div class="block">the square of the sum of the responses, y</div>
</li>
</ul>
<a name="sum_responses_qty">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sum_responses_qty</h4>
<pre>private transient&nbsp;double sum_responses_qty</pre>
<div class="block">the sum of the responses, y</div>
</li>
</ul>
<a name="possible_rule_variables">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>possible_rule_variables</h4>
<pre>private transient&nbsp;gnu.trove.list.array.TIntArrayList possible_rule_variables</pre>
<div class="block">this caches the possible split variables populated only if the <code>mem_cache_for_speed</code> feature is set to on</div>
</li>
</ul>
<a name="possible_split_vals_by_attr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>possible_split_vals_by_attr</h4>
<pre>private transient&nbsp;java.util.HashMap&lt;java.lang.Integer,<a href="../OpenSourceExtensions/TDoubleHashSetAndArray.html" title="class in OpenSourceExtensions">TDoubleHashSetAndArray</a>&gt; possible_split_vals_by_attr</pre>
<div class="block">this caches the possible split values BY variable populated only if the <code>mem_cache_for_speed</code> feature is set to on</div>
</li>
</ul>
<a name="padj">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>padj</h4>
<pre>protected transient&nbsp;java.lang.Integer padj</pre>
<div class="block">this number of possible split variables at this node</div>
</li>
</ul>
<a name="attribute_split_counts">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>attribute_split_counts</h4>
<pre>protected&nbsp;int[] attribute_split_counts</pre>
<div class="block">a shared pointer to an object that tabulates the counts of attributes being used in split points in this tree</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="bartMachineTreeNode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bartMachineTreeNode</h4>
<pre>public&nbsp;bartMachineTreeNode()</pre>
</li>
</ul>
<a name="bartMachineTreeNode(bartMachine.bartMachineTreeNode, bartMachine.bartMachine_b_hyperparams)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bartMachineTreeNode</h4>
<pre>public&nbsp;bartMachineTreeNode(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;parent,
                   <a href="../bartMachine/bartMachine_b_hyperparams.html" title="class in bartMachine">bartMachine_b_hyperparams</a>&nbsp;bart)</pre>
<div class="block">Creates a new node</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>parent</code> - The parent of this node</dd><dd><code>bart</code> - The BART model this node belongs to</dd></dl>
</li>
</ul>
<a name="bartMachineTreeNode(bartMachine.bartMachineTreeNode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bartMachineTreeNode</h4>
<pre>public&nbsp;bartMachineTreeNode(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;parent)</pre>
<div class="block">Creates a new node</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>parent</code> - The parent of this node</dd></dl>
</li>
</ul>
<a name="bartMachineTreeNode(bartMachine.bartMachine_b_hyperparams)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>bartMachineTreeNode</h4>
<pre>public&nbsp;bartMachineTreeNode(<a href="../bartMachine/bartMachine_b_hyperparams.html" title="class in bartMachine">bartMachine_b_hyperparams</a>&nbsp;bart)</pre>
<div class="block">Creates a new node</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bart</code> - The BART model this node belongs to</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="clone()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clone</h4>
<pre>public&nbsp;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;clone()</pre>
<div class="block">Creates a cloned copy of the tree beginning at this node by recursing cloning its children.
 The clone is shallow to save memory.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>clone</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>A cloned copy of this tree</dd></dl>
</li>
</ul>
<a name="avgResponse()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>avgResponse</h4>
<pre>public&nbsp;double&nbsp;avgResponse()</pre>
<div class="block">The sample average response value at this node</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The sample average value</dd></dl>
</li>
</ul>
<a name="getTerminalNodesWithDataAboveOrEqualToN(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTerminalNodesWithDataAboveOrEqualToN</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;&nbsp;getTerminalNodesWithDataAboveOrEqualToN(int&nbsp;n_rule)</pre>
<div class="block">Search the tree below this current node for terminal nodes that have more than <code>n_rule</code>
 data records</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>n_rule</code> - The number of data records in in terminal nodes of interest we wish to select</dd>
<dt><span class="strong">Returns:</span></dt><dd>A list of these nodes</dd></dl>
</li>
</ul>
<a name="getTerminalNodes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTerminalNodes</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;&nbsp;getTerminalNodes()</pre>
<div class="block">Return all terminal nodes under this node</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A list of the terminal nodes</dd></dl>
</li>
</ul>
<a name="findTerminalNodesDataAboveOrEqualToN(bartMachine.bartMachineTreeNode, java.util.ArrayList, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findTerminalNodesDataAboveOrEqualToN</h4>
<pre>private static&nbsp;void&nbsp;findTerminalNodesDataAboveOrEqualToN(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;node,
                                        java.util.ArrayList&lt;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;&nbsp;terminal_nodes,
                                        int&nbsp;n_rule)</pre>
<div class="block">Search the tree recursively below a node for terminal nodes that have more than <code>n_rule</code>
 data records</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - The node under investigation</dd><dd><code>terminal_nodes</code> - The growing list of nodes that fit this criteria</dd><dd><code>n_rule</code> - The number of data records in in terminal nodes of interest we wish to select</dd></dl>
</li>
</ul>
<a name="getPrunableAndChangeableNodes()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPrunableAndChangeableNodes</h4>
<pre>public&nbsp;java.util.ArrayList&lt;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;&nbsp;getPrunableAndChangeableNodes()</pre>
<div class="block">Find a list of prunable and changeable nodes (ie singly internal nodes) 
 from this point in the tree and below</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The list of these nodes</dd></dl>
</li>
</ul>
<a name="findPrunableAndChangeableNodes(bartMachine.bartMachineTreeNode, java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findPrunableAndChangeableNodes</h4>
<pre>private static&nbsp;void&nbsp;findPrunableAndChangeableNodes(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;node,
                                  java.util.ArrayList&lt;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&gt;&nbsp;prunable_nodes)</pre>
<div class="block">Find a list of prunable and changeable nodes (ie singly internal nodes) 
 from a node and below using recursion</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - The node to find singly internal nodes below</dd><dd><code>prunable_nodes</code> - A running list of singly internal nodes</dd></dl>
</li>
</ul>
<a name="pruneTreeAt(bartMachine.bartMachineTreeNode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pruneTreeAt</h4>
<pre>public static&nbsp;void&nbsp;pruneTreeAt(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;node)</pre>
<div class="block">We prune the tree at this node. We cut off its children, mark it as a leaf / terminal node,
 and erase its split rule</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - The node at which to trim the tree at</dd></dl>
</li>
</ul>
<a name="deepestNode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deepestNode</h4>
<pre>public&nbsp;int&nbsp;deepestNode()</pre>
<div class="block">Find the terminal node at the largest depth from this point in the tree and down</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The depth of the deepest terminal node</dd></dl>
</li>
</ul>
<a name="Evaluate(double[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Evaluate</h4>
<pre>public&nbsp;double&nbsp;Evaluate(double[]&nbsp;record)</pre>
<div class="block">Evaluate a record recursively accounting for split rules and the presence of missing data</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>record</code> - The record which to evaluate in this tree</dd>
<dt><span class="strong">Returns:</span></dt><dd>The returned prediction from the terminal node that this tree structure maps the record to</dd></dl>
</li>
</ul>
<a name="flushNodeData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushNodeData</h4>
<pre>public&nbsp;void&nbsp;flushNodeData()</pre>
<div class="block">Remove all the data in this node and its children recursively to save memory</div>
</li>
</ul>
<a name="propagateDataByChangedRule()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>propagateDataByChangedRule</h4>
<pre>public&nbsp;void&nbsp;propagateDataByChangedRule()</pre>
<div class="block">Propagates the records to the appropriate daughter nodes recursively after a change in split rule.</div>
</li>
</ul>
<a name="updateWithNewResponsesRecursively(double[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateWithNewResponsesRecursively</h4>
<pre>public&nbsp;void&nbsp;updateWithNewResponsesRecursively(double[]&nbsp;new_responses)</pre>
<div class="block">Update this node and its children with a set of new responses recursively</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>new_responses</code> - The new responses</dd></dl>
</li>
</ul>
<a name="numLeaves()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numLeaves</h4>
<pre>public&nbsp;int&nbsp;numLeaves()</pre>
<div class="block">How many terminal nodes are below this node?</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of terminal nodes</dd></dl>
</li>
</ul>
<a name="numNodesAndLeaves()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numNodesAndLeaves</h4>
<pre>public&nbsp;int&nbsp;numNodesAndLeaves()</pre>
<div class="block">Find the total number of nodes (internal and terminal) recursively below this node</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of nodes</dd></dl>
</li>
</ul>
<a name="numPruneNodesAvailable()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>numPruneNodesAvailable</h4>
<pre>public&nbsp;int&nbsp;numPruneNodesAvailable()</pre>
<div class="block">Find the number of singly internal nodes (available for pruning) recursively
 from this point in the tree down</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of nodes available for pruning or changing</dd></dl>
</li>
</ul>
<a name="prediction_untransformed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prediction_untransformed</h4>
<pre>public&nbsp;double&nbsp;prediction_untransformed()</pre>
<div class="block">Get the prediction for this node transformed back to the original response scale</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The untransformed prediction</dd></dl>
</li>
</ul>
<a name="avg_response_untransformed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>avg_response_untransformed</h4>
<pre>public&nbsp;double&nbsp;avg_response_untransformed()</pre>
<div class="block">Find the average repsonse in this node and then transform it back to the original response scale</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The untransformed average</dd></dl>
</li>
</ul>
<a name="sumResponsesQuantitySqd()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sumResponsesQuantitySqd</h4>
<pre>public&nbsp;double&nbsp;sumResponsesQuantitySqd()</pre>
<div class="block">Find the square of the sum of responses and cache it</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The squared quantity of the sum of responses</dd></dl>
</li>
</ul>
<a name="sumResponses()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sumResponses</h4>
<pre>public&nbsp;double&nbsp;sumResponses()</pre>
<div class="block">Simply the sum of the repsonses in this node</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The sum</dd></dl>
</li>
</ul>
<a name="predictorsThatCouldBeUsedToSplitAtNode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>predictorsThatCouldBeUsedToSplitAtNode</h4>
<pre>protected&nbsp;gnu.trove.list.array.TIntArrayList&nbsp;predictorsThatCouldBeUsedToSplitAtNode()</pre>
<div class="block">A wrapper to find a list of predictors that are valid for splitting at this node. 
 If <code>mem_cache_for_speed</code> is turned on in the construction of the BART model, 
 this list gets cached.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The list of predictors indexed by the columns in the design matrix</dd></dl>
</li>
</ul>
<a name="tabulatePredictorsThatCouldBeUsedToSplitAtNode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tabulatePredictorsThatCouldBeUsedToSplitAtNode</h4>
<pre>private&nbsp;gnu.trove.list.array.TIntArrayList&nbsp;tabulatePredictorsThatCouldBeUsedToSplitAtNode()</pre>
<div class="block">Finds a list of predictors that are valid for splitting at this node.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The list of predictors indexed by the columns in the design matrix</dd></dl>
</li>
</ul>
<a name="nAdj()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nAdj</h4>
<pre>public&nbsp;int&nbsp;nAdj()</pre>
<div class="block">Gets the total number of valid split points that can be used for rules at this juncture
 for the selected split rule predictor (it will be different for each predictor)</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The number of valid split points</dd></dl>
</li>
</ul>
<a name="possibleSplitValuesGivenAttribute()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>possibleSplitValuesGivenAttribute</h4>
<pre>protected&nbsp;<a href="../OpenSourceExtensions/TDoubleHashSetAndArray.html" title="class in OpenSourceExtensions">TDoubleHashSetAndArray</a>&nbsp;possibleSplitValuesGivenAttribute()</pre>
<div class="block">A wrapper to find a list of split values that are valid for splitting at this node. 
 If <code>mem_cache_for_speed</code> is turned on in the construction of the BART model, 
 this list gets cached.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The list of split values</dd></dl>
</li>
</ul>
<a name="tabulatePossibleSplitValuesGivenAttribute()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tabulatePossibleSplitValuesGivenAttribute</h4>
<pre>private&nbsp;<a href="../OpenSourceExtensions/TDoubleHashSetAndArray.html" title="class in OpenSourceExtensions">TDoubleHashSetAndArray</a>&nbsp;tabulatePossibleSplitValuesGivenAttribute()</pre>
<div class="block">Finds a list of split values that are valid for splitting at this node.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The list of split values</dd></dl>
</li>
</ul>
<a name="pickRandomSplitValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pickRandomSplitValue</h4>
<pre>public&nbsp;double&nbsp;pickRandomSplitValue()</pre>
<div class="block">Of the valid split values to split at for this split rule at this node, pick one at random</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The randomly selected split value</dd></dl>
</li>
</ul>
<a name="isStump()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isStump</h4>
<pre>public&nbsp;boolean&nbsp;isStump()</pre>
<div class="block">Is this node a stump? That is, does it have no parents and no children?</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True if it's a stump</dd></dl>
</li>
</ul>
<a name="stringID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stringID</h4>
<pre>public&nbsp;java.lang.String&nbsp;stringID()</pre>
<div class="block">Find the string ID of this node</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The unique ID of this node</dd></dl>
</li>
</ul>
<a name="setStumpData(java.util.ArrayList, double[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setStumpData</h4>
<pre>public&nbsp;void&nbsp;setStumpData(java.util.ArrayList&lt;double[]&gt;&nbsp;X_y,
                double[]&nbsp;y_trans,
                int&nbsp;p)</pre>
<div class="block">When a new stump gets created, this function sets its data. This allows
 the stump to grow a tree within a BART model</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>X_y</code> - the training data that will be filtered down the tree structure</dd><dd><code>y_trans</code> - the transformed responses that correspond to the <code>X_y</code> data records</dd><dd><code>p</code> - the number of attributes in the training data</dd></dl>
</li>
</ul>
<a name="updateYHatsWithPrediction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateYHatsWithPrediction</h4>
<pre>public&nbsp;void&nbsp;updateYHatsWithPrediction()</pre>
<div class="block">Given new yhat predictions, update them for this node</div>
</li>
</ul>
<a name="findInteractions(java.util.HashSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findInteractions</h4>
<pre>public&nbsp;void&nbsp;findInteractions(java.util.HashSet&lt;<a href="../OpenSourceExtensions/UnorderedPair.html" title="class in OpenSourceExtensions">UnorderedPair</a>&lt;java.lang.Integer&gt;&gt;&nbsp;set_of_interaction_pairs)</pre>
<div class="block">A wrapper to find all interactions recursively by checking all splits underneath this node</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>set_of_interaction_pairs</code> - A running list of interaction pairs</dd></dl>
</li>
</ul>
<a name="findSplitAttributesUsedUnderneath(int, java.util.HashSet)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findSplitAttributesUsedUnderneath</h4>
<pre>private&nbsp;void&nbsp;findSplitAttributesUsedUnderneath(int&nbsp;interacted_attribute,
                                     java.util.HashSet&lt;<a href="../OpenSourceExtensions/UnorderedPair.html" title="class in OpenSourceExtensions">UnorderedPair</a>&lt;java.lang.Integer&gt;&gt;&nbsp;set_of_interaction_pairs)</pre>
<div class="block">Finds interactions recursively for one node's attribute by checking all splits underneath this node</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>interacted_attribute</code> - The attribute in the top node that is being interacted with split rules in the daughter nodes</dd><dd><code>set_of_interaction_pairs</code> - A running list of interaction pairs</dd></dl>
</li>
</ul>
<a name="clearRulesAndSplitCache()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearRulesAndSplitCache</h4>
<pre>public&nbsp;void&nbsp;clearRulesAndSplitCache()</pre>
<div class="block">When <code>mem_cache_for_speed</code> is set in the BART model, running this function will reset the caches for this node's valid predictors and valid split values</div>
</li>
</ul>
<a name="pickRandomDirectionForMissingData()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pickRandomDirectionForMissingData</h4>
<pre>public static&nbsp;boolean&nbsp;pickRandomDirectionForMissingData()</pre>
<div class="block">Picks a random direction for missing data to flow down the tree from this node. As of
 now, this is a 50-50 coin flip left:right.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>True / false is returned</dd></dl>
</li>
</ul>
<a name="stringLocation(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stringLocation</h4>
<pre>public&nbsp;java.lang.String&nbsp;stringLocation(boolean&nbsp;show_parent)</pre>
<div class="block">In debugging, print a string that codes this node's location in the entire tree</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>show_parent</code> - Show a character if this node is a stump</dd>
<dt><span class="strong">Returns:</span></dt><dd>The coded string</dd></dl>
</li>
</ul>
<a name="printNodeDebugInfo(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>printNodeDebugInfo</h4>
<pre>public&nbsp;void&nbsp;printNodeDebugInfo(java.lang.String&nbsp;title)</pre>
<div class="block">Prints debug information about this node, its parent and its immediate children</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>title</code> - A string to print within this message</dd></dl>
</li>
</ul>
<a name="decrement_variable_count(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decrement_variable_count</h4>
<pre>public&nbsp;void&nbsp;decrement_variable_count(int&nbsp;j)</pre>
<div class="block">When counting the attributes used in this tree's split rules, decrement the following attribute</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>j</code> - The attribute number (in the original traning data design matrix) to decrement in count</dd></dl>
</li>
</ul>
<a name="increment_variable_count(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>increment_variable_count</h4>
<pre>public&nbsp;void&nbsp;increment_variable_count(int&nbsp;j)</pre>
<div class="block">When counting the attributes used in this tree's split rules, increment the following attribute</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>j</code> - The attribute number (in the original traning data design matrix) to increment in count</dd></dl>
</li>
</ul>
<a name="getLeft()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeft</h4>
<pre>public&nbsp;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;getLeft()</pre>
</li>
</ul>
<a name="getRight()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRight</h4>
<pre>public&nbsp;<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;getRight()</pre>
</li>
</ul>
<a name="getGeneration()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGeneration</h4>
<pre>public&nbsp;int&nbsp;getGeneration()</pre>
</li>
</ul>
<a name="setGeneration(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGeneration</h4>
<pre>public&nbsp;void&nbsp;setGeneration(int&nbsp;generation)</pre>
</li>
</ul>
<a name="isLeaf()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLeaf</h4>
<pre>public&nbsp;boolean&nbsp;isLeaf()</pre>
</li>
</ul>
<a name="setLeaf(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLeaf</h4>
<pre>public&nbsp;void&nbsp;setLeaf(boolean&nbsp;isLeaf)</pre>
</li>
</ul>
<a name="setLeft(bartMachine.bartMachineTreeNode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLeft</h4>
<pre>public&nbsp;void&nbsp;setLeft(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;left)</pre>
</li>
</ul>
<a name="setRight(bartMachine.bartMachineTreeNode)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRight</h4>
<pre>public&nbsp;void&nbsp;setRight(<a href="../bartMachine/bartMachineTreeNode.html" title="class in bartMachine">bartMachineTreeNode</a>&nbsp;right)</pre>
</li>
</ul>
<a name="getSplitAttributeM()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSplitAttributeM</h4>
<pre>public&nbsp;int&nbsp;getSplitAttributeM()</pre>
</li>
</ul>
<a name="setSplitAttributeM(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSplitAttributeM</h4>
<pre>public&nbsp;void&nbsp;setSplitAttributeM(int&nbsp;splitAttributeM)</pre>
</li>
</ul>
<a name="getSplitValue()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSplitValue</h4>
<pre>public&nbsp;double&nbsp;getSplitValue()</pre>
</li>
</ul>
<a name="setSplitValue(double)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setSplitValue</h4>
<pre>public&nbsp;void&nbsp;setSplitValue(double&nbsp;splitValue)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/bartMachineTreeNode.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../bartMachine/bartMachineRegressionMultThread.html" title="class in bartMachine"><span class="strong">Prev Class</span></a></li>
<li><a href="../bartMachine/Classifier.html" title="class in bartMachine"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?bartMachine/bartMachineTreeNode.html" target="_top">Frames</a></li>
<li><a href="bartMachineTreeNode.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
